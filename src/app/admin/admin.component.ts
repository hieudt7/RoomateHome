import { Router } from '@angular/router';
import { Component, OnInit, ViewEncapsulation } from '@angular/core';
declare var $: any
declare var google: any
@Component({
  selector: 'app-admin',
  templateUrl: './admin.component.html',
  styleUrls: ['./admin.component.scss']
})
export class AdminComponent implements OnInit {
  constructor(
    private router: Router,

  ) { }
  locations: any
  _view_mode: string
  ngOnInit() {
    //this._view_mode = "list"
    this._view_mode = "detail"
    this.locations = [
      {
        "agent_name": "Randy Smith",
        "id": 11725,
        "features": [10],
        "promotion_type": 2,
        "max_bedrooms": 3,
        "neighborhood_name": "Hell's Kitchen",
        "zappable": 1,
        "lat": 40.7630864,
        "lng": -73.9918814,
        "lease_type": 1,
        "floorplan_count": 1,
        "city": "New York",
        "max_bathrooms": 1,
        "zipcode": "10036",
        "feed_name": "nyc_nestio",
        "image_ids": [218498938, 218498939, 218498940, 218498941, 218498942, 218498943, 218498944, 218498945],
        "state": "NY",
        "min_price": 4100,
        "pets": [1, 2, 3],
        "short_description": "Eat in Kitchen and spacious living room!! Big City! From the Theater District to Times Square Clinton (Hell's Kitchen) has it ALL.",
        "min_bedrooms": 3,
        "min_bathrooms": 1,
        "phone": "(844) 335-5536 ext. 8195",
        "address": "443 W 48th St #1EE",
        "city_state": "new-york-ny",
        "max_price": 4100,
      },
      {
        "agent_name": "Randy Smith",
        "id": 11111,
        "features": [10],
        "promotion_type": 2,
        "max_bedrooms": 3,
        "neighborhood_name": "Hell's Kitchen",
        "zappable": 1,
        "lat": 40.7631927,
        "lng": -73.9916957,
        "lease_type": 1,
        "floorplan_count": 1,
        "city": "New York",
        "max_bathrooms": 1,
        "zipcode": "10036",
        "feed_name": "nyc_nestio",
        "image_ids": [218498938, 218498939, 218498940, 218498941, 218498942, 218498943, 218498944, 218498945],
        "state": "NY",
        "min_price": 2100,
        "pets": [1, 2, 3],
        "short_description": "Eat in Kitchen and spacious living room!! Big City! From the Theater District to Times Square Clinton (Hell's Kitchen) has it ALL.",
        "min_bedrooms": 3,
        "min_bathrooms": 1,
        "phone": "(844) 335-5536 ext. 8195",
        "address": "441 W 48th St #5EW",
        "city_state": "new-york-ny",
        "max_price": 3300,
      },
      {
        "agent_name": "Randy Smith",
        "id": 11725,
        "features": null,
        "promotion_type": 2,
        "max_bedrooms": 3,
        "neighborhood_name": "Hell's Kitchen",
        "zappable": 1,
        "lat": 40.717139,
        "lng": -73.993163,
        "lease_type": 1,
        "floorplan_count": 1,
        "city": "New York",
        "max_bathrooms": 1,
        "zipcode": "10036",
        "feed_name": "nyc_nestio",
        "image_ids": [218498938, 218498939, 218498940, 218498941, 218498942, 218498943, 218498944, 218498945],
        "state": "NY",
        "min_price": 1000,
        "pets": [1, 2, 3],
        "short_description": "Eat in Kitchen and spacious living room!! Big City! From the Theater District to Times Square Clinton (Hell's Kitchen) has it ALL.",
        "min_bedrooms": 3,
        "min_bathrooms": 1,
        "phone": "(844) 335-5536 ext. 8195",
        "address": "74 Forsyth St #16",
        "city_state": "new-york-ny",
        "max_price": 2100,
      },
      {
        "agent_name": "Randy Smith",
        "id": 11112,
        "features": null,
        "promotion_type": 2,
        "max_bedrooms": 3,
        "neighborhood_name": "Hell's Kitchen",
        "zappable": 1,
        "lat": 40.709236,
        "lng": -74.0064122,
        "lease_type": 1,
        "floorplan_count": 1,
        "city": "New York",
        "max_bathrooms": 1,
        "zipcode": "10036",
        "feed_name": "nyc_nestio",
        "image_ids": [218498938, 218498939, 218498940, 218498941, 218498942, 218498943, 218498944, 218498945],
        "state": "NY",
        "min_price": 4100,
        "pets": [1, 2, 3],
        "short_description": "Eat in Kitchen and spacious living room!! Big City! From the Theater District to Times Square Clinton (Hell's Kitchen) has it ALL.",
        "min_bedrooms": 3,
        "min_bathrooms": 1,
        "phone": "(844) 335-5536 ext. 8195",
        "address": "136 William St #2B",
        "city_state": "new-york-ny",
        "max_price": 6100,
      },
      {
        "agent_name": "Randy Smith",
        "id": 11113,
        "features": [10],
        "promotion_type": 2,
        "max_bedrooms": 3,
        "neighborhood_name": "Hell's Kitchen",
        "zappable": 1,
        "lat": 40.7185829,
        "lng": -73.9833967,
        "lease_type": 1,
        "floorplan_count": 1,
        "city": "New York",
        "max_bathrooms": 1,
        "zipcode": "10036",
        "feed_name": "nyc_nestio",
        "image_ids": [218498938, 218498939, 218498940, 218498941, 218498942, 218498943, 218498944, 218498945],
        "state": "NY",
        "min_price": 500,
        "pets": [1, 2, 3],
        "short_description": "Eat in Kitchen and spacious living room!! Big City! From the Theater District to Times Square Clinton (Hell's Kitchen) has it ALL.",
        "min_bedrooms": 3,
        "min_bathrooms": 1,
        "phone": "(844) 335-5536 ext. 8195",
        "address": "198 Rivington St #2C",
        "city_state": "new-york-ny",
        "max_price": 4100,
      },
      {
        "agent_name": "Randy Smith",
        "id": 11114,
        "features": [10],
        "promotion_type": 2,
        "max_bedrooms": 3,
        "neighborhood_name": "Hell's Kitchen",
        "zappable": 1,
        "lat": 40.8038535,
        "lng": -73.9573467,
        "lease_type": 1,
        "floorplan_count": 1,
        "city": "New York",
        "max_bathrooms": 1,
        "zipcode": "10036",
        "feed_name": "nyc_nestio",
        "image_ids": [218498938, 218498939, 218498940, 218498941, 218498942, 218498943, 218498944, 218498945],
        "state": "NY",
        "min_price": 4100,
        "pets": [1, 2, 3],
        "short_description": "Eat in Kitchen and spacious living room!! Big City! From the Theater District to Times Square Clinton (Hell's Kitchen) has it ALL.",
        "min_bedrooms": 3,
        "min_bathrooms": 1,
        "phone": "(844) 335-5536 ext. 8195",
        "address": "342 Manhattan Ave #2C",
        "city_state": "new-york-ny",
        "max_price": 4100,
      },
      {
        "agent_name": "Randy Smith",
        "id": 11117,
        "features": [10],
        "promotion_type": 2,
        "max_bedrooms": 3,
        "neighborhood_name": "Hell's Kitchen",
        "zappable": 1,
        "lat": 40.7992414,
        "lng": -73.9603026,
        "lease_type": 1,
        "floorplan_count": 1,
        "city": "New York",
        "max_bathrooms": 1,
        "zipcode": "10036",
        "feed_name": "nyc_nestio",
        "image_ids": [218498938, 218498939, 218498940, 218498941, 218498942, 218498943, 218498944, 218498945],
        "state": "NY",
        "min_price": 4100,
        "pets": [1, 2, 3],
        "short_description": "Eat in Kitchen and spacious living room!! Big City! From the Theater District to Times Square Clinton (Hell's Kitchen) has it ALL.",
        "min_bedrooms": 3,
        "min_bathrooms": 1,
        "phone": "(844) 335-5536 ext. 8195",
        "address": "15 W 107th St #41",
        "city_state": "new-york-ny",
        "max_price": 4100,
      },
      {
        "agent_name": "Randy Smith",
        "id": 11118,
        "features": null,
        "promotion_type": 2,
        "max_bedrooms": 3,
        "neighborhood_name": "Hell's Kitchen",
        "zappable": 1,
        "lat": 40.7666689,
        "lng": -73.9561599,
        "lease_type": 1,
        "floorplan_count": 1,
        "city": "New York",
        "max_bathrooms": 1,
        "zipcode": "10036",
        "feed_name": "nyc_nestio",
        "image_ids": [218498938, 218498939, 218498940, 218498941, 218498942, 218498943, 218498944, 218498945],
        "state": "NY",
        "min_price": 4100,
        "pets": [1, 2, 3],
        "short_description": "Eat in Kitchen and spacious living room!! Big City! From the Theater District to Times Square Clinton (Hell's Kitchen) has it ALL.",
        "min_bedrooms": 3,
        "min_bathrooms": 1,
        "phone": "(844) 335-5536 ext. 8195",
        "address": "400 E 71st St #10U",
        "city_state": "new-york-ny",
        "max_price": 4100,
      },
      {
        "agent_name": "Randy Smith",
        "id": 11120,
        "features": [10],
        "promotion_type": 2,
        "max_bedrooms": 3,
        "neighborhood_name": "Hell's Kitchen",
        "zappable": 1,
        "lat": 40.7666689,
        "lng": -73.9561599,
        "lease_type": 1,
        "floorplan_count": 1,
        "city": "New York",
        "max_bathrooms": 1,
        "zipcode": "10036",
        "feed_name": "nyc_nestio",
        "image_ids": [218498938, 218498939, 218498940, 218498941, 218498942, 218498943, 218498944, 218498945],
        "state": "NY",
        "min_price": 4100,
        "pets": [1, 2, 3],
        "short_description": "Eat in Kitchen and spacious living room!! Big City! From the Theater District to Times Square Clinton (Hell's Kitchen) has it ALL.",
        "min_bedrooms": 3,
        "min_bathrooms": 1,
        "phone": "(844) 335-5536 ext. 8195",
        "address": "400 E 71st St #17M",
        "city_state": "new-york-ny",
        "max_price": 4100,
      },
      {
        "agent_name": "Randy Smith",
        "id": 11122,
        "features": null,
        "promotion_type": 2,
        "max_bedrooms": 3,
        "neighborhood_name": "Hell's Kitchen",
        "zappable": 1,
        "lat": 40.7472435,
        "lng": -73.9732491,
        "lease_type": 1,
        "floorplan_count": 1,
        "city": "New York",
        "max_bathrooms": 1,
        "zipcode": "10036",
        "feed_name": "nyc_nestio",
        "image_ids": [218498938, 218498939, 218498940, 218498941, 218498942, 218498943, 218498944, 218498945],
        "state": "NY",
        "min_price": 4100,
        "pets": [1, 2, 3],
        "short_description": "Eat in Kitchen and spacious living room!! Big City! From the Theater District to Times Square Clinton (Hell's Kitchen) has it ALL.",
        "min_bedrooms": 3,
        "min_bathrooms": 1,
        "phone": "(844) 335-5536 ext. 8195",
        "address": "311 E 38th St #11D",
        "city_state": "new-york-ny",
        "max_price": 4100,
      }
    ];

    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 10,
      center: new google.maps.LatLng(40.741325940022705, -73.76791967555312),
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });
    var infowindow = new google.maps.InfoWindow();
    var marker, i;
    for (i = 0; i < this.locations.length; i++) {
      marker = new google.maps.Marker({
        position: new google.maps.LatLng(this.locations[i].lat, this.locations[i].lng),
        map: map
      });
      google.maps.event.addListener(marker, 'click', (function (marker, i) {
        return function () {
          //infowindow.setContent(locations[i][0]);
          //infowindow.open(map, marker);
          console.log(this.locations[i])
          alert(this.locations[i].id)
        }
      })(marker, i));
      google.maps.event.addListener(marker, 'mouseover', function () {
        //  marker.setIcon(icon2);
        console.log('hover in')
      });
      google.maps.event.addListener(marker, 'mouseout', function () {
        //  marker.setIcon(icon1);
        console.log('hover out')
      });
    }
  }
  getMapDetail() {
    this._view_mode = "detail"
  }
  backToList() {
    this._view_mode = "list"
  }
}
